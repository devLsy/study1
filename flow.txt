1. 메인 페이지 로그인
2. 사용자인지 관리자 인지 체크
3. 사용자면 사용자 페이지 로그인, 관리자면 관리자 페이지로 이동
4. 관리자로 로그인 한 경우 관리자 페이지에서 게시판 메뉴를 추가(메뉴코드, 메뉴명)시 t_menu 테이블에 컬럼값 저장, t_board 테이블에는 추가한 메뉴코드의 컬럼이 추가 됨
5. 게시글 입력 화면에서 관리자에서 추가한 메뉴명이 보여져야 함
   관리자 > 메뉴에서 첨부파일 필드를 추가 하면 게시글 등록 시 추가한 첨부파일 필드가 생겨야 함

==========================================================================================

게시글 목록 필드에서는 그 DB에서 필드를 가져와서 뿌려줌

게시글 목록에서 게시글 입력 시 메뉴 추가에서 추가한게

예를 들어서 메뉴에서 첨부파일을 추가했다.
게시글 입력 시에도 추가한 메뉴인 첨부파일이 나와야 함

게시글 입력 화면에서 form 태그안에 input box에 하드코딩으로 "제목", "내용", "이름" 이렇게 되어 있는데 이걸 DB에서 가져와서 입력화면에 그려줄 것

게시글 입력 화면의 input 값들도 DB에서 불러온 값으로 게시글 목록화면의 제목들도 DB에서 불러온 값으로

그러면 게시글 등록 시 추가한 필드도 계속 저장이 되어야 함(vo와 DB 컬럼도 매핑이 되어야 함)

그러면 관리자에서 게시판 필드를 추가한 다음 게시글 작성시 어떻게 해야 될까?
게시글 작성 시 t_board테이블에 컬럼이 계속적으로 추가가 되어서 insert가 되어야 함
ex) 처음엔 insert into (title, content, name) values(#{title}, #{content}, #{name})
이렇게만 저장이 되는데 첨부파일을 만약에 추가 했으면
insert into (title, content, name, file) values(#{title}, #{content}, #{name}, #{file})
이렇게 #{file}이 추가가 되어야 되고..
필드가 늘어나면 계속 추가가 되어야 함

메뉴관리에서 메뉴를 계속 추가하면 게시글 등록 시에도 필드가 계속 동적으로 추가되니..
서버에서도 이를 동적으로 받아야 하는데
어떤 좋은 방법이 있을까?(기존에 받았던 VO객체로는 받을 수 없을 듯?)


게시판 메뉴 관리 > 메뉴를 삭제하면 게시판 테이블에서도 컬럼이 삭제가 되어야 될까?

전체적인 컨셉이
관리자 페이지에서
메뉴를 어떤 타입을 추가할 지 모르는 거고

사용자가 메뉴를 어떤 걸 추가하느냐에 따라 게시글 등록 화면에서
input type을 다양하게 만들 수 있어야 함

예를 들어 첨부파일을 관리자가 추가하면 게시글 등록 페이지에서
input type이 file이 되어야 하고

메뉴 등록 페이지에서 add button을 통해서 메뉴도 동적으로 추가(어떤 메뉴가 추가될지는 모름)

그리고 추가한 메뉴(여기서의 메뉴는 게시판 메뉴를 의미)가 게시글 등록 페이지에서 표시가 타입에 맞게 표현되고
그 순서 또한 관리자가 게시글 등록 시 변경할 수 있어야 함

추가한 필드도 게시글 등록 화면에서 추가가 되어
게시글 등록 프로세스 시 반영이 되어야 함(DB에 저장)

1. 메뉴 등록 페이지에서 예를 들어 메뉴 추가 버튼을 눌렀다.
2. input 박스가 동적으로 표시된다.(메뉴코드명, 메뉴명, 메뉴타입(셀렉트 박스로 선택하게끔))
3. input 박스에 원하는 메뉴코드, 메뉴명을 입력 후 등록한다.(ex) file(첨부파일)
3-1. 메뉴 등록 한 다음 다시 메뉴 추가 화면 호출 시 방금 전 추가한 메뉴가 표시가 되고 여기서 메뉴 추가 시 그 밑에 메뉴가 추가 된다.
※ 메뉴 추가 시 메뉴코드명을 중복 체크 해야 함(t_menu 테이블에서 조회해서 체크 혹은 t_board의 컬럼을 조회해서 체크)
4. t_menu 테이블에 메뉴코드, 메뉴명 데이터가 추가가 되고 t_board 테이블에 메뉴코드와 동일한 이름의 컬럼이 추가 된다.
5. 관리자가 게시글 등록 화면을 호출한 후 게시글 작성을 누른다.
   3번에서 추가한 메뉴가 게시글 등록의 필드에 추가가 된다.(이 때 3번에서 선택한 필드 타입에 따라 필드가 다르게 표시됨)
   예를 들어 첨부파일을 추가 했으면 input type="file"이 추가 되고 일반 텍스트를 추가 했으면 input tpe="text"가 추가된다.

일단은 현재 메뉴 추가는 1개씩만 가능한 전제(메뉴 여러개를 추가할 경우 배열로 처리 해야 함)

메뉴 추가 화면에서
메뉴 추가 시 메뉴코드명(영문으로만 입력 받게끔, 이게 게시판 테이블의 컬럼이 될 것이기 때문에), 메뉴명 입력 input box 2개 입력을 해서
등록하면 t_menu 테이블에 메뉴명이 데이터가 추가되고 t_board 테이블에 컬럼이 추가가 됨
그리고 어떤 타입의 메뉴를 추가할 건지도 메뉴 추가 화면에서 선택 해야 함(셀렉트박스인지, 체크박스인지, 그냥 텍스트 박스인지)

-- 만일 메뉴 등록에서 메뉴코드를 file로 입력하고 메뉴명을 첨부파일로 입력 했다고 가정해보자.
   메뉴 추가 시에는 menu테이블의 필드와 매핑해서 서버로 보내면 되지만
   게시글 추가 시에는 map으로 보내야 함
   게시글 입력 시 필드가 계속 추가가 되고 필드명도 달라지기에

   t_menu테이블에서는 메뉴 순서를 삭제할 것
   관리자 페이지의 메뉴관리 페이지에서는 메뉴 추가만 하는 것이고
   게시글 관리 > 게시글 등록 페이지에서는 순서대로 추가가 되고 이 순서는 추후에 관리자가 드래그 앤 드랍으로 변경할 수 있도록 변경해 볼 것


   [done]
   - 메뉴 등록 시 menuCode, menuName, menuType이 t_menu 테이블에 저장됨, 
   - 메뉴 등록 시 입력한 menuCode명으로 t_board에 컬럼이 추가 됨
   - 메뉴 등록 시 화면단 유효성 체크
   - 서버단도 유효성 체크 추가(@Validated) 
   - 메뉴 등록 화면에서 기존에 저장된 메뉴가 있을 경우 화면에 그리는 것(메뉴코드, 메뉴명, 메뉴타입)
   - 추가된 메뉴의 타입에 따라 게시글 등록 화면에서 input 타입을 다르게 그리는 것
     -- 첨부파일을 추가 했으면 input type="file"이 되어야 하고 textArea를 추가 했으면 textArea가 그려져야 함
     -- 타입이 check box나 select box를 추가 했으면 관리자가 항목을 추가할 수 있도록 해야겠지?

   [toDo]
   1.
   t_board에 동적으로 추가되는 column(메뉴화면에서 추가한 메뉴코드명)과 매핑해서 데이터를 저장해야 함
   게시글 등록 시 컬럼이 동적으로 늘어나고 늘어난 컬럼과 매핑해서 데이터를 넣어야 함
   원래는 게시글 등록 시 아래 쿼리만 실행 되었음 
   insert into t_board(title, contents, name)
   values(?,?,?);
   얘부터 해보자

   만일 관리자가 게시판 메뉴에 file이라는 컬럼을 추가 하면 아래처럼 file이 추가 되어야 되고 더 추가하면 계속 늘어나야 함
   insert into t_board(title, contents, name, file)
   values(?,?,?,?);


   관리자가 file이라는 메뉴(t_board column)를 추가 하면 아래 프로세스가 진행되야 함
   t_board 테이블에 file이라는 컬럼이 추가 됨
   t_menu 테이블에 file이라는 데이터가 추가 됨

   insert into t_board(title, contents, name, file) 여기서 file이라는 컬럼이 추가 되고 parameter값에도 file에 해당되는 값이 추가 되어야 함
   values(?,?,?,?);

   t_board의 insert문에 해당되는 menu를 어딘가에 저장해 놔야 겠군(이게 VO인데)
   menu가 추가되면 vo에도 값을 추가 해줘야 겠군?
   그리고 insert into문을 동적으로????

   정리하면 단순함
   게시판 테이블 메뉴가 늘어나면 vo에도 필드를 추가해주고 
   insert문에도 추가된 필드를 추가해주면 됨
   다만 이게 동적으로 되어야 된 다는 것

   화면에서 parameter 받는 걸 map으로 받도록 변경 해보자
   일단 mybatis에서 map으로 insert하는 것 먼저 해보자
   게시글 등록 시 map으로 받아서 insert into foreach를 map으로 해서 저장되게끔은 구현 완료
   <insert id="insertBoard" parameterType="hashmap">
        INSERT INTO t_board
            (
             <foreach collection="column" item="column" separator=",">
                ${column}
             </foreach>
             , reg_date
             , update_date
             )
        VALUES
            (
            <foreach collection="column_value" item="column_value" separator=",">
                #{column_value}
            </foreach>
            , now()
            , now()
            )
        <selectKey keyColumn="board_seq" resultType="Long" order="AFTER" keyProperty="boardSeq">
            SELECT LAST_INSERT_ID() as boardSeq
        </selectKey>
    </insert>

   2.
   첨부파일을 어떻게 저장할까?
   이미 첨부파일은 t_board_file 테이블에 저장되도록 설계 되어 있음
   첨부파일 추가 시 t_board_file에 파일 관련 데이터 저장되고 file_seq만 t_board테이블에 저장해서 참조해서 조회할 수 있도록 변경?
   파일 테이블과 게시판 테이블의 연관관계를 맺어줘야 함
   파일 테이블에 board_seq를 줘서 어떤 게시글의 첨부파일인지 참조할 수 있도록
   그러면 메뉴관리 > 메뉴추가에서 첨부파일을 추가할 경우 t_board 테이블에는 file이 추가될 필요는 없을까?
   메뉴추가에서 첨부파일타입의 file이라는 컬럼을 추가 했을 때 t_board 테이블에 file 컬럼이 추가가 되는데..
   이 file컬럼에는 첨부파일 seq값이 저장되어야 될까? 그런데 이미 t_board_file테이블에서 t_board의 board_seq를 필드로 가지고 있어서
   서로 참조해서 조회할 수 있음

   3.
   게시글 목록에서 동적으로 추가된 컬럼 조회하는 것(이거 디테일 수정 해야 함)
